<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Pitch Trainer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Voice Pitch Trainer</h1>

        <div class="mode-toggle">
            <button id="mode-free" class="mode-btn active">Free Practice</button>
            <button id="mode-sequence" class="mode-btn">Sequence Mode</button>
        </div>

        <section class="note-section free-practice-section">
            <h2>Reference Note</h2>
            <div class="pitch-selector">
                <select id="note-select">
                    <option value="C">C</option>
                    <option value="C#">C#</option>
                    <option value="D">D</option>
                    <option value="D#">D#</option>
                    <option value="E">E</option>
                    <option value="F">F</option>
                    <option value="F#">F#</option>
                    <option value="G">G</option>
                    <option value="G#">G#</option>
                    <option value="A" selected>A</option>
                    <option value="A#">A#</option>
                    <option value="B">B</option>
                </select>
                <select id="octave-select">
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4" selected>4</option>
                    <option value="5">5</option>
                </select>
            </div>
            <div class="note-display">
                <span id="note-name">A4</span>
                <span id="note-freq">440 Hz</span>
            </div>
            <button id="play-note" class="btn btn-primary">Play Note</button>
        </section>

        <section class="visualizer-section free-practice-section">
            <h2>Live Pitch</h2>
            <div class="pitch-display">
                <span id="detected-pitch">--</span>
                <span id="detected-note">Hz</span>
            </div>
            <div class="cents-display">
                <span id="cents-off">--</span>
                <span>cents</span>
            </div>
            <div class="canvas-container">
                <div class="y-axis-labels">
                    <span class="legend-sharp">Sharp</span>
                    <span class="legend-target" id="target-note-label">A4</span>
                    <span class="legend-flat">Flat</span>
                </div>
                <canvas id="pitch-canvas" width="460" height="150"></canvas>
            </div>
            <button id="start-btn" class="btn btn-record">Start</button>
            <div id="status" class="status"></div>
        </section>

        <section class="sequence-section" style="display: none;">
            <h2>Sequence Challenge</h2>
            <div class="sequence-selector">
                <select id="sequence-select">
                    <option value="simple-scale">Simple Scale - Beginner</option>
                    <option value="octave-jump">Octave Jump - Beginner</option>
                    <option value="major-arpeggio">Major Arpeggio - Intermediate</option>
                    <option value="full-scale">Full Scale Up - Advanced</option>
                </select>
            </div>
            <div class="starting-note-selector">
                <label>Starting note:</label>
                <select id="start-note-select">
                    <option value="C">C</option>
                    <option value="C#">C#</option>
                    <option value="D">D</option>
                    <option value="D#">D#</option>
                    <option value="E">E</option>
                    <option value="F">F</option>
                    <option value="F#">F#</option>
                    <option value="G">G</option>
                    <option value="G#">G#</option>
                    <option value="A">A</option>
                    <option value="A#">A#</option>
                    <option value="B">B</option>
                </select>
                <select id="start-octave-select">
                    <option value="2">2</option>
                    <option value="3" selected>3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
            </div>
            <div class="sheet-music-container">
                <canvas id="sheet-music-canvas" width="500" height="120"></canvas>
            </div>
            <div class="sequence-buttons">
                <button id="preview-btn" class="btn btn-primary">Preview</button>
                <button id="go-btn" class="btn btn-record">Go</button>
            </div>
            <div class="sequence-canvas-container">
                <canvas id="sequence-canvas" width="500" height="200"></canvas>
            </div>
            <div id="sequence-results" class="sequence-results" style="display: none;">
                <div class="results-header">
                    <span id="results-grade" class="results-grade">A</span>
                    <span id="results-percent" class="results-percent">95%</span>
                </div>
                <div id="results-breakdown" class="results-breakdown"></div>
                <button id="retry-btn" class="btn btn-primary">Try Again</button>
            </div>
            <div id="sequence-status" class="status"></div>
        </section>
    </div>

    <script src="app.js"></script>
</body>
</html>
